{% extends 'base.html' %}

{% block title %}My Shopping List{% endblock %}

{% block content %}

    <h1>Your Shopping List</h1>
    <ul id="shopping_list">
        {% for item in shopping_list.items.all %}
            <li class="shopping_list_item">
                {{ item.name }} - {{ item.quantity }}
             <!--delete button -->
                <form method="POST" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" name="delete_item" value="{{ item.id }}">Delete</button>
                </form>

            <!--edit quantity-->
                <form method="POST" style="display:inline;">
                    {% csrf_token %}
                    <input type="number" name="new_quantity" value="{{ item.item.quantity }}" min="1" style="width:50px;">
                    <button type="submit" name="edit_quantity" value="{{ item.id }}">Update</button>
                </form>

            </li>
        {% endfor %}
    </ul>

    <!-- form to clear shopping list -->
    <form method="POST" style="margin-top: 20px;">
        {% csrf_token %}
        <button type="submit" name="clear_list" value="1">Clear Shopping List</button>
    </form>
    {# form to add item #}
    <form method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Add Item</button>
    </form>z
{% endblock %}